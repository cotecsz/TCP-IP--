## 套接字类型与协议设置

### 套接字协议及其数据传输特性

- 协议：完成数据交换制定的约定。

</br>

#### 创建套接字：`int socket(int domain, int type, int protocol);`

- 参数
  - `domain` ：套接字中使用的协议族信息，决定第三个参数 `protocol`
  - `type` ：套接字数据传输的类型信息
  - `protocol` ： 计算机间通信中使用的协议信息

</br>

#### 协议族

| 名称      | 协议族               |
| --------- | -------------------- |
| PF_INET   | IPv4互联网协议族     |
| PF_INET6  | IPv6互联网协议族     |
| PF_LOCAL  | 本地通信的Unix协议族 |
| PF_PACKET | 底层套接字的协议族   |
| PF_IPX    | IPX Novell协议族     |

</br>

#### 套接字类型

##### 面向连接的套接字（SOCK_STREAM)

- 面向连接的套接字特点
  - 传输过程数据不会丢失
  - 按序传输数据
  - 传输数据不存在数据边界
- 收发数据的套接字内部有缓冲，即字节数组
- 套接字连接必须一一对应

> 可靠的、按序传递、基于字节的面向连接的数据传输方式的套接字。

</br>

##### 面向消息的套接字（SOCK_DGRAM)

- 面向消息的套接字特点
  - 快速传输
  - 数据可能丢失/损毁
  - 传输数据有数据边界
  - 限制每次传输的数据大小

> 不可靠的、不按序传递、以数据的高速传输为目的的套接字。

### 协议选择

- 面向连接的套接字： `IPPROTO_TCP`
- 面向消息的套接字： `IPPRORO_UDP`

